---
title: recursion
spoiler: Recursion is a powerful technique that helps us bridge the gap between complex problems being solved with elegant code.
date: "2021-02-26"
updated: "2020-06-26"
tags: ["CS", "recursion"]
keywords: ["recursion", "CS"]
slug: recursion
---

Recursion is a poweful technique to know as a software engineer.
Basiccly a recusrion is a function that calls it self until it hits our basecase, otherwise it will keep in stuck in a infinite loop.
It maybe returrns a value ore i doesent.
Thats why we need our condition on some parameter such theat when we hit some condition at some point we will stop the recursion.

```ts
const countToTen = (n: number): number => {
  if (n === 10) return n // Basecase, otherwise we will never stop running the function.
  console.log(n) // 0 1 2 3 4 5 6 7 8 9 10
  return countToTen(n + 1) // receive call
}

console.log(countToTen(0))
```

Have you seen the movie Inception where they go into other peoples dreams, they could go infinite amount of levels deep, and to know they are still in a dream they have their token that tells them if they are kept in the dream or not.
The token is the base case, it will help us to not keep going deeper until we loose the control and never can wake up from the dream.

## Recursions are lazy

## Why ore why not use recursion?

| pros                                                                      | cons                                                    |
| ------------------------------------------------------------------------- | ------------------------------------------------------- |
| Elegance and complexity                                                   | make the CPU work alot,slowness                         |
| Reduce complex imperative loops, such as traverse a tree                  | can lead out of memory fast, `stackoverflow`            |
| Reduce time complexity, with memoization                                  | Can be more complex then needed if written in a bad way |
| Works really well with data structures, like for example `graphs`,`trees` |                                                         |

## Callstack

To understand how the recursion works and how the process of the whole execution we need to understand the `call stack`.
The call stack is a `stack` based data structure. To explain more how the call stack works lets visualize our day.

Let's say you go to work one day, you want to start your day by reading a blog post that you wanted to read and that you prepared for this morning.
While you reading you hearing your boss knocking on your shoulder and says: _I need you to attend the meeting in 5min_.
So you now need to attend the meeting, and the reading is the second prioritized since the meeting is important, well you can read the post after the meeting.
Then your boss walks in again and says that you need not attend this other meeting that you should impress some investors, and that's is what you will do, impress the investors is now more important.
Then the boss says once again I need you to help `John` with his code, It is urgent and we need to ship this code into production as soon as possible.

So now you can't:

- Read your blog post
- attend to the first meeting
- impress the investors

Until you help John with his code.
But once you help `John` it gets popped out from your to-do list and you can then impress the investors.
After that, you can attend the meeting.
When you are done with the meeting you will have some time to read your blog post.
This is a visualized way of how the call stack works.

So why is this so relevent to how recursion works.
This is how the call stack works when we are talking about invoking function within our program.

Take this for example, we have three functions that are kind of chained together.

```js
function a() {
  return "What up " + b()
}

function b() {
  return "I am B " + "Hello " + c()
}

function c() {
  return "I am C"
}
```

The first function is depended on the `c` function and returns a string.
`b` is depended on `c` and it also returns a string.
And `c` just return a string nothing speciall here.

And here is the order of thee call stack, in what order the functions will be invoked.
Here we can also se how the function get poped out from the call stack and how for exemple we invoke the the `b` and `c`
functions after the previous task has been completed and popped of the call stack.

<Image src="/static/images/call-stack-ex.svg" height={500} width={800} />

So why is this even relevent to how recursion works and how we think recursevly?
So let's show a recursive example when achive stackoverflow and when oru machine would crach beacuse it cant handle more items on thee stack, so we achive `stackoverflow`.

```js
function recFunc() {
  recFunc() // call itsel with no basecase ---> stackoverflow
}
```

<Image src="/static/images/call-stack.svg" height={500} width={800} />
